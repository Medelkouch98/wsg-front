import { Injectable } from '@angular/core';
import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';
import * as moment from 'moment';

@Injectable()
export class ExploitantCentreValidators {
  /**
   * Vérifier si l'age de l'exploitant est inférieur à 18ans
   * @return ValidatorFn
   */
  public dateNaissanceValidator(): ValidatorFn {
    return (control: AbstractControl): ValidationErrors | null => {
      return moment().diff(moment(control?.value), 'years') < 18
        ? { mineur: true }
        : null;
    };
  }
}
